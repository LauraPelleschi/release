OASISFormat: 0.3
Name:        release
Version:     0.1.0
Synopsis:    OCaml daemon framework
Authors:     Andre Nathan
License:     BSD3

BuildTools:  ocamlbuild
Plugins:     META (0.3)

Library "release"
  Path:             lib
  BuildDepends:     extunix (>= 0.0.4),
                    lwt (>= 2.3.2),
                    lwt.unix (>= 2.3.2),
                    lwt.syntax (>= 2.3.2),
                    release.option,
                    release.buffer
  CompiledObject:   best
  Modules:          Release,
                    Release_io,
                    Release_ipc,
                    Release_privileges,
                    Release_socket
  XMETADescription: OCaml daemon framework

Library "release-buffer"
  Path:             lib/buffer
  FindlibName:      buffer
  FindlibParent:    release
  CompiledObject:   best
  BuildDepends:     lwt (>= 2.3.2),
                    lwt.unix (>= 2.3.2),
                    lwt.syntax (>= 2.3.2)
  Modules:          Release_buffer
  XMETADescription: Buffer type for Release

Library "release-bytes"
  FindlibName:      bytes
  FindlibParent:    release
  Path:             lib/bytes
  BuildDepends:     release.buffer,
                    uint.uint32 (>= 1.0.1),
                    uint.uint64 (>= 1.0.1),
                    uint.uint128 (>= 1.0.1)
  CompiledObject:   best
  Modules:          Release_bytes
  XMETADescription: Binary operations for Release daemons

Library "release-config"
  FindlibName:      config
  FindlibParent:    release
  Path:             lib/config
  BuildDepends:     lwt,
                    release.option
  BuildTools+:      ocamllex, ocamlyacc
  CompiledObject:   best
  Modules:          Release_config,
                    Release_config_lexer,
                    Release_config_parser,
                    Release_config_global,
                    Release_config_types
  XMETADescription: Configuration file support for Release daemons

Library "release-option"
  Path:             lib/option
  FindlibName:      option
  FindlibParent:    release
  CompiledObject:   best
  Modules:          Release_option
  XMETADescription: Utility functions on option types

Document release
  Title:                Release documentation
  Type:                 ocamlbuild (0.3)
  BuildTools+:          ocamldoc
  XOCamlbuildPath:      lib
  XOCamlbuildLibraries: release

Executable test_master
  Path:            lib_test
  MainIs:          master.ml
  Install:         false
  CompiledObject:  best
  BuildDepends:    release,
                   lwt,
                   lwt.unix,
                   lwt.syntax,
                   str

Executable test_slave
  Path:            lib_test
  MainIs:          slave.ml
  Install:         false
  CompiledObject:  best
  BuildDepends:    release,
                   lwt,
                   lwt.unix,
                   lwt.syntax,
                   str

Executable test_helper
  Path:            lib_test
  MainIs:          helper.ml
  Install:         false
  CompiledObject:  best
  BuildDepends:    release,
                   lwt,
                   lwt.unix,
                   lwt.syntax,
                   str

Executable masterctl
  Path:            lib_test
  MainIs:          masterctl.ml
  Install:         false
  CompiledObject:  best
  BuildDepends:    release,
                   lwt,
                   lwt.unix,
                   lwt.syntax,
                   str

Executable test_config
  Path:            lib_test
  MainIs:          config_test.ml
  Install:         false
  CompiledObject:  best
  BuildTools+:     ocamllex, ocamlyacc
  BuildDepends:    release.config
